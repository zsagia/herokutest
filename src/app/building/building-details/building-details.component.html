<div *ngIf="building" class="row">
  <div class="col-md-12">
    <h2 *ngIf="building._id">Building Details</h2>
    <h2 *ngIf="!building._id">New Building</h2>
  </div>
</div>

<div *ngIf="building" class="row">
  <form class="col-md-12" [formGroup]="buildingForm" (ngSubmit)="onSubmit(buildingForm.value)">
    <input formControlName="_id"  [(ngModel)]="building._id" type="hidden" />

    <div class="form-group">
      <label for="name">Name</label>

      <input class="form-control" formControlName="name" [(ngModel)]="building.name" placeholder="Name" type="text" />
    </div>

    <div class="form-group">
      <label for="country">Country</label>

      <input class="form-control" formControlName="country" [(ngModel)]="building.country" placeholder="Country" type="text" />
    </div>

    <div class="form-group">
      <label for="type">Type</label>

      <select class="form-control" formControlName="type" [(ngModel)]="building.type" placeholder="Type">
          <option [ngValue]="TYPE_CASTLE">{{TYPE_CASTLE}}</option>
          <option [ngValue]="TYPE_FORTRESS">{{TYPE_FORTRESS}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="defaultImage">Default Image</label>

      <input class="form-control" formControlName="defaultImage" [(ngModel)]="building.defaultImage" type="text"/>
      
      <div class="upload_button_holder">
        <label class="upload_button" for="fileupload">Upload</label>
            <input type="file" id="fileupload" #fileInput ng2FileSelect [uploader]="uploader" (change)="fileInput.value=''"
                 />
            </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>

      <textarea class="form-control" formControlName="description" [(ngModel)]="building.description">
      </textarea>
    </div>

    <div class="form-group">
      <label for="history">History</label>

      <textarea class="form-control" formControlName="history" [(ngModel)]="building.history">
      </textarea>
    </div>

    <button class="btn btn-primary" *ngIf="!building._id" [disabled]="submitted || !buildingForm.valid" type="submit">Create</button>
    <button class="btn btn-info" *ngIf="building._id" [disabled]="submitted || !buildingForm.valid" type="submit">Update</button>
    <button class="btn btn-danger" *ngIf="building._id" (click)="deleteBuilding(building._id)">Delete</button>
  </form>
</div>